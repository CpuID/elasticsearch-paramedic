<!doctype html>
<html>
<head>
  <title>Paramedic</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/app.css">
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
  <header class="clearfix">
    <script type="text/x-handlebars">
    {{#with App.cluster}}

    <section {{bindAttr class=":cluster_name status"}}>
      <span class="label">Cluster Name</span>
      <h1>{{cluster_name}}</h1>
      <span class="label">Status</span>
      <span {{bindAttr class=":status status"}}>{{status}}</span>
      <span class="label">Nodes</span>
           {{number_of_nodes}}
      <span class="label">Data Nodes</span>
           {{number_of_data_nodes}}
    </section>

    <section>
      <p><span class="label">Shards</span></p>
      <p><span class="label darker">Primary</span>
         {{active_primary_shards}}</p>
      <p><span class="label darker">Relocating</span>
         {{relocating_shards}}</p>
    </section>

    <section>
    <p><span class="label">&nbsp;</span></p>
      <p><span class="label darker">Initializing</span>
         {{initializing_shards}}</p>
      <p><span class="label darker">Unassigned</span>
         {{unassigned_shards}}</p>
    </section>

    {{/with}}
    </script>
  </header>
  <h2 class="label">Nodes</h2>
  <script type="text/x-handlebars">
    <div id="nodes" class="clearfix">
    {{#each App.nodes}}
      <div {{bindAttr class=":node master"}}>
      <h3><span {{bindAttr class="master:icon-star"}}></span> {{name}}</h3>
      <div class="meta">
        <p><span class="label">ID: </span>{{id}}</p>
        <p><span class="label">IP: </span>{{http_address}}</p>
        <p><span class="label">Host: </span>{{hostname}}</p>
        <p><span class="label">Heap: </span>{{jvm_heap_max}}</p>
      </div>
      </div>
    {{/each}}
    </div>
  </script>
<br>

  <h2 class="label">Indices</h2>
  <script type="text/x-handlebars">
    <div id="indices">
    {{#each App.indices}}
      <div {{bindAttr class=":index :clearfix state"}}>
        <div class="basic-info clearfix">
          <h3>{{name}}</h3>

          <div class="shards">
            {{#each shards}}
            <div {{bindAttr class=":shard primary state recovery.stage" title="state"}}>
              {{name}}
            </div>
            {{/each}}
          </div>

          <div class="meta">
            <p>
              {{settings.number_of_shards}} shards,
              {{settings.number_of_replicas}} replicas,
              {{docs}} docs,
              {{size}},
              {{indexing.index_time}} indexing time,
              {{search.query_time}} query time,
              {{state}}
            </p>
          </div>
        </div>
        <div class="extra-info shards clearfix">
          {{#each nodes}}
          <div class="node">
            <h3>{{name}} <small>{{hostname}}</small></h3>
            <div class="clearfix">
              {{#each shards}}
              <div {{bindAttr class=":shard primary state recovery.stage" title="state"}}>
                  <h3>{{name}}</h3>
                  <div class="meta">
                    <p>{{state}}/{{recovery.stage}}</p>
                    <p>
                      {{recovery.time}}
                      {{recovery.size}}
                    </p>
                  </div>
               </div>
              {{/each}}
            </div>
          </div>
          {{/each}}
        </div>
      </div>
    {{/each}}
    </ul>
  </script>

  <script src="js/libs/jquery-1.7.2.min.js"></script>
  <!-- <script src="js/libs/ember-0.9.8.min.js"></script> -->
  <script src="js/libs/ember-0.9.8.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
